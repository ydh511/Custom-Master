# [1주차] Project_4팀 진행상황 공유

## 팀 구성원, 개인 별 역할

---

프로젝트 팀 구성원을 기재해 주시고, 그 주의 팀원이 어떤 역할을 맡아서 개발을 진행했는지 구체적으로 작성해 주세요. 🙂 

- 양동화 - 팀장, 로그인
- 김세인 - 리뷰
- 김슬찬 - 주문 요청
- 박지수 - 주문 요청 확인, 수락, 배포
- 오시은 - 리뷰
- 장수빈 - 결제

## 팀 내부 회의 진행 회차 및 일자

---

| 날짜 | 진행 방법 | 불참 인원 |
| --- | --- | --- |
| 2024.04.11 | Discord |  |
| 2024.04.12 | Discord |  |

## 현재까지 개발 과정 요약 (최소 500자 이상)

---

현재까지 진행하고 있는 개발 현황을 기능별 목표, 목표달성률, 성과자체평가(상세히) 작성해주세요.

- 성과자체평가는 ‘기술적으로 새로 알게된 점, 어려웠던 점, 아쉬운 점, 시도해볼 점' 등을 작성해 주시면 됩니다 🙂
- 팀원 각자 현재 구현하고 있는 것을 적어주세요. :)
- ex) 기능별 목표: 암기장 삭제하기 기능 추가 / 목표달성률: 50% - 마켓에서 등록해제는 가능, 내 암기장 삭제는 아직 미구현 / 지속적으로 수정사항이 발생하여 완성도를 올리는 중, 현재 관련 문서 참고 중

- 양동화
    - 기능별 목표: 리프레시 토큰 발급
    - 목표 달성률: 50%
    - 성과자체평가: 개발단계에선 리프레시토큰을 서버에 저장하고 개발단계가 거의 끝나갈때쯤 redis를 이용해 리프레시토큰을 저장할 계획이다.
- 김세인
    - 기능별 목표 : 리뷰 기능 구현
    - 목표 당설률 : 확인중
- 김슬찬
    - 기능별 목표: 사용자의 주문 요청 기능 구현
    - **목표 달성률**: 50%
    - **성과자체평가**:
        - **기술적으로 새로 알게된 점**: 파일 업로드 및 저장 관련 기술에 대해 배우고 적용함.
        - **어려웠던 점**: 사용자가 요청한 주문 정보를 데이터베이스에 저장하고 파일을 업로드하는 과정에서 예외 처리와 유효성 검사를 진행하는 것이 복잡했음.
        - **아쉬운 점**: 현재는 기본적인 주문 요청 기능만 구현되어 있으며, 보안 및 오류 처리 측면에서 보완이 필요함.
        - **시도해볼 점**: 보안 측면과 예외 처리를 보다 강화하고, 사용자 경험을 향상시킬 수 있는 기능을 추가할 예정입니다.
- 박지수
    - **기능별 목표**: 주문 List 표시, 주문 승락 기능 구현
    - **목표 달성률**: 50% (프론트엔드 미구현)
    - **성과 자체 평가**: `auth`를 이용해 `shop`에 접근 가능한 사람인지 권한 확인하는 부분 제외 전체 달성 완료. 프론트엔드 구현 진행중. 프론트엔드 추가 후, 주문 등록과 연관해 해당 기능 테스트 예정
    - [x]  특정 Shop의 주문 상세보기
        - 주문을 클릭했을 때, 주문의 내용을 상세보기 하기 위한 `readDetails`추가
        - 주문을 클릭했을 때, 주문의 `product` 내용도 가져와야 하기 때문에 `getOrdProductDetails`추가
    - [x]  가격 책정해 주문 승낙하기
        - 가격을 추가해 주문 승낙이 가능하다.
    - [x]  주문 거절하기
        - 주문 거절이 가능하다.
    - `auth`가 구현되어 있지 않아 현재 페이지에 접근하려는 사람이 매장 주인인지 확인하는 로직 추가 필요
    
    ```java
    // Shop에 있는 주문 전체 불러오기
    public List<OrdDto> readAllOrdByShop(Long shopId) {
        // 매장 주인인지 확인
    
        // 전체 주문 가져옴
        List<Ord> ordList = ordRepo.findAll();
    
        // 해당 매장의 주문인 경우 List에 저장
        List<Ord> ords = new ArrayList<>();
        for (Ord ord : ordList) {
            if (ord.getProduct().getShop().getId().equals(shopId)) {
                ords.add(ord);
            }
        }
        log.info(ords.toString());
    
        return ords.stream()
                .map(OrdDto::fromEntity)
                .collect(Collectors.toList());
    }
    ```
    
- 오시은
    - 기능별 목표 : 리뷰 작성 기능, 리뷰 수정 기능, 리뷰 삭제 기능, 리뷰 조회 기능 구현
    - 목표 달성률 : 확인중
- 장수빈
    - 기능별 목표: 결제 기능 구현(tosspayment)
    - 목표 달성률: 40% (실제 기능과 연결 x)
    - 성과자체평가: toss api를 사용하는 방법을 처음 배웠을 때보다 좀 더 알게 된 것 같다. 결제 하나를 위해 생각보다 적용해야 할 것들이나 작성해야 할 부분들이 많아서 어려웠고 지금은 기능들이 아직 완성되지 않아서 임의로 상품을 만들어 놓고 결제를 구현해 놓았지만 다른 기능들이 완성되면 결제 기능과 연결할 계획이다.

## 개발 과정에서 나왔던 질문 (최소 200자 이상)

---

개발을 진행하며 나왔던 질문 중 핵심적인 것을 요약하여 작성해 주세요 🙂

- 질의응답 과정 중 해결되지 않은 질문을 정리하여도 좋습니다.
- `Ord` conflict 문제
    - `TossPayment`와 `OrdAccept`를 위한 `dto`, `repo`에서 일부 파일 충돌이 발생했다.
    - `TossPayments`용 `OrdController`에선 주문 전체를 읽어오거나, 주문 하나를 읽어오는 부분만 추가되어 있는데, `OrdAccpet` 컨트롤러는 전체 주문 조회가 아닌 `Shop`에 들어오는 주문을 기준으로 조회하고 있다.
    - 크게 겹치는 부분이 없어 보이니 `controller`의 `ord`패키지 안에만 넣어, 명명은 다르게 유지하고 구조만 통일되게 사용하는 것으로 합의했다.
    - `Ord`를 만드는 부분과 이쪽에서 겹치는 부분이 있는지 확인과 추가적인 협의가 필요하다.
- `ReviewController`의 댓글 삭제/업데이트/추가 할 경우 `Id` 매핑 문제
    - 여러 개의 상품을 구매하고 리뷰(댓글)을 작성한다고 가정했을 때, 사용자 `Id`보다 `reviewId`로 작성하는 것이 나을 것 같다.
    - 리뷰(댓글)는 `Shop` 마다 달리는 것이기 때문에 `/{shopId}/review/{reviewId}` 의 형식으로 매핑하고 리뷰의 소유자(작성자)를 `account`로 설정하는 방법이 접근이 좀 더 쉬울 것 같다.

## 개발 결과물 공유

---

Github Repository URL: https://github.com/likelion-backend-8th-pj2-team4-JuDBu/Custom-Master

- 필수) 팀원들과 함께 찍은 인증샷(온라인 만남시 스크린 캡쳐)도 함께 업로드 해주세요 🙂
![Untitled](https://github.com/likelion-backend-8th-pj2-team4-JuDBu/Custom-Master/assets/70869505/d912c29f-33f8-4305-9a9a-cfc70f47a319)
![Untitled](https://github.com/likelion-backend-8th-pj2-team4-JuDBu/Custom-Master/assets/70869505/94580fd1-66cc-4804-90a0-c23da4ff6376)
